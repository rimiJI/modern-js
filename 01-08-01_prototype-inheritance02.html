<head>
  <title>프로토타입 상속-과제</title>
  <style>
    pre {
      /* 2. '프리텐다드'를 가장 먼저 사용하도록 설정합니다. */
      font-family: "Pretendard", -apple-system, BlinkMacSystemFont, "Segoe UI",
        Roboto, "Helvetica Neue", Arial, sans-serif;
      font-size: 16px; /* 기본 폰트 크기를 살짝 키워 가독성을 높입니다. */
      line-height: 1.6; /* 줄 간격을 넓혀서 덜 답답하게 만듭니다. */
      background-color: #f7f7f7; /* 아주 연한 회색 배경을 추가해 영역을 구분합니다. */
      padding: 1em; /* 안쪽 여백을 줍니다. */
      border-radius: 8px; /* 모서리를 둥글게 만듭니다. */
    }
    .red {
      color: red;
      font-weight: bold;
    }
    .ml-1 {
      margin-left: 1em;
    }
  </style>
  <!-- 1. Prism.js의 CSS 파일을 불러옵니다 (기본 밝은 테마) -->
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
    rel="stylesheet"
  />
</head>

<body>
  <h3 style="color: rgb(172, 172, 172)">프로토타입 상속-과제</h3>
  <!-- JS로 내용을 수정할 부분을 div로 감싸고 id를 부여합니다. -->
  <div id="notes"></div>
  <div>
    <details>
      <summary></summary>
      <pre></pre>
    </details>
  </div>
  <script>
    // 🌿이걸 찾아서 <br/>🌿로 바꿔라
    document.getElementById("notes").innerHTML = document
      .getElementById("notes")
      .innerHTML.replaceAll("🌿", "<br>🌿");
  </script>

  <script>
    //-----검색알고리즘----
    //1. __proto__를 사용해서, 프로퍼티 조회가
    // pockets → bed → table → head의 경로를 따르도록 하세요. pockets.pen은 table에 있는 3, bed.glasses는 head에 있는 1이 되어야
    //2. pockets.glasses로 glasses를 얻는 것이 빠를까요? 아니면 head.glasses로 얻는 것이 빠를까요? 필요하다면 벤치마크를 사용해 성능을 측정
    // 성능차이 없음 - 모던엔진, 프로퍼티가 어디서 발견되었는지 기억, 다음에 이 정보 재사용.
    //                최적화 안전하게 수행
    let head = {
      glasses: 12,
    };

    let table = {
      __proto__: head,
      pen: 3,
    };

    let bed = {
      __proto__: table,
      sheet: 1,
      pillow: 2,
    };

    let pockets = {
      __proto__: bed,
      money: 2000,
    };

    //--------왜 햄스터 두 마리 모두 배가 꽉 찼을까요----------
    /*지금 보면 어레이  [ ] 
      가 프로토타입인 부모객체에 동시에 설정이 되어있음.

      하나의 인스턴스에 할당을 해줘도 같이 부모를 공유하고 있기 때문에
      프로퍼티 체인이 일어나서 둘 다 배가 차는 현상 

      이를 해결하기 위해  프로토타입 부모객체안에 공유 어레이[ ] 에서 작동이 아닌 
      this.stomach = [food] 로 설정해야한다. 
      왜??
      this.stomach=은 실행시점에서 객체 자체에 해당 프로퍼티를 추가하지 lazy.stomach 요런식으로
      프로토타입 체인에서 stomach을 찾지 않기 때문에 의도한 대로 잘 작동합니다.*/
    let hamster = {
      stomach: [],

      eat(food) {
        this.stomach.push(food);
      },
    };

    let speedy = {
      __proto__: hamster,
    };

    let lazy = {
      __proto__: hamster,
    };

    // 햄스터 speedy가 음식을 먹습니다.
    speedy.eat("apple");
    alert(speedy.stomach); // apple

    // 햄스터 lazy는 음식을 먹지 않았는데 배에 apple이 있다고 나오네요. 왜 그럴까요? lazy는 배가 비어있도록 고쳐주세요.
    alert(lazy.stomach); // apple
  </script>

  <!-- 2. Prism.js의 JavaScript 파일 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
</body>
