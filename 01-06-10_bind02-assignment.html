<head>
  <title>bind - assignment</title>
  <style>
    pre {
      /* 2. 'í”„ë¦¬í…ë‹¤ë“œ'ë¥¼ ê°€ì¥ ë¨¼ì € ì‚¬ìš©í•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤. */
      font-family: "Pretendard", -apple-system, BlinkMacSystemFont, "Segoe UI",
        Roboto, "Helvetica Neue", Arial, sans-serif;
      font-size: 16px; /* ê¸°ë³¸ í°íŠ¸ í¬ê¸°ë¥¼ ì‚´ì§ í‚¤ì›Œ ê°€ë…ì„±ì„ ë†’ì…ë‹ˆë‹¤. */
      line-height: 1.6; /* ì¤„ ê°„ê²©ì„ ë„“í˜€ì„œ ëœ ë‹µë‹µí•˜ê²Œ ë§Œë“­ë‹ˆë‹¤. */
      background-color: #f7f7f7; /* ì•„ì£¼ ì—°í•œ íšŒìƒ‰ ë°°ê²½ì„ ì¶”ê°€í•´ ì˜ì—­ì„ êµ¬ë¶„í•©ë‹ˆë‹¤. */
      padding: 1em; /* ì•ˆìª½ ì—¬ë°±ì„ ì¤ë‹ˆë‹¤. */
      border-radius: 8px; /* ëª¨ì„œë¦¬ë¥¼ ë‘¥ê¸€ê²Œ ë§Œë“­ë‹ˆë‹¤. */
    }
  </style>
  <!-- 1. Prism.jsì˜ CSS íŒŒì¼ì„ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤ (ê¸°ë³¸ ë°ì€ í…Œë§ˆ) -->
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
    rel="stylesheet"
  />
</head>

<body>
  <h3 style="color: rgb(172, 172, 172)">bind - assignment</h3>
  <div>
    <details>
      <pre></pre>
    </details>
  </div>

  <script>
    //ğŸbindë¥¼ ì ìš©í•œ í•¨ìˆ˜ ë©”ì„œë“œë¥¼ ì •ì˜í•˜ê¸°
    function f() {
      console.log(this); //nullì¶œë ¥
    }

    let user = {
      g: f.bind(null),
    };

    user.g();

    //ğŸbindë¥¼ ì ìš©í•œ í•¨ìˆ˜ í”„ë¡œí¼í‹°. ë™ì¼í•œê°€ìš”??
    // ë¹„êµë¥¼ ìœ„í•´ì„œëŠ” í• ë‹¹ ì—°ì‚°ì(=)ê°€ ì•„ë‹Œ ë¹„êµ ì—°ì‚°ì(===)ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
    // ë˜í•œ, í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” f()ê°€ ì•„ë‹Œ í•¨ìˆ˜ ìì²´ì¸ fë¥¼ ë¹„êµí•´ì•¼ í•©ë‹ˆë‹¤.
    console.log(f === user.g); // false ì¶œë ¥
    // f.bind()ëŠ” ìƒˆë¡œìš´ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ, ì›ë³¸ í•¨ìˆ˜ fì™€ëŠ” ë‹¤ë¦…ë‹ˆë‹¤.

    //ğŸthis ê°’ì´ undefinedì¸ í•¨ìˆ˜ ê³ ì¹˜ê¸°
    function askPassword(ok, fail) {
      let password = prompt("ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.", "");
      if (password == "rockstar") ok();
      else fail();
    }

    let loginUser = {
      name: "John",

      loginOk() {
        alert(`${this.name}ë‹˜ì´ ë¡œê·¸ì¸í•˜ì˜€ìŠµë‹ˆë‹¤.`);
      },

      loginFail() {
        alert(`${this.name}ë‹˜ì´ ë¡œê·¸ì¸ì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤.`);
      },
    };

    askPassword(
      loginUser.loginOk.bind(loginUser),
      loginUser.loginFail.bind(loginUser)
    );

    //ğŸë¡œê·¸ì¸ì— ë¶€ë¶„ ì ìš©í•˜ê¸°
    function ask(ok, fail) {
      let password = prompt("ë¹„ë°€ë²ˆí˜¸ ì…ë ¥: ", "");
      if (password == "ë©”ë¡±") ok();
      else fail();
    }

    let userAsk = {
      name: "John",
      login(a) {
        console.log(this.name + (a ? "ë¡œê·¸ì¸ ì„±ê³µ" : "ë¡œê·¸ì¸ ì‹¤í "));
      },
    };
    //ì•„ë˜ë¥¼ ì…ë ¥í•˜ì‹œì˜¤ - ë¬´ìŠ¨ë§ì´ì•¼ ì§„ì§œ
    ask(userAsk.login.bind(userAsk, true), userAsk.login.bind(userAsk, false));
  </script>
</body>
