<!-- 하나도 모르겠숴!!!!!!!!!!!!!!!!!!!!!!! -->
<head>
  <title>함수의 prototype 프로퍼티</title>
  <style>
    pre {
      /* 2. '프리텐다드'를 가장 먼저 사용하도록 설정합니다. */
      font-family: "Pretendard", -apple-system, BlinkMacSystemFont, "Segoe UI",
        Roboto, "Helvetica Neue", Arial, sans-serif;
      font-size: 16px; /* 기본 폰트 크기를 살짝 키워 가독성을 높입니다. */
      line-height: 1.6; /* 줄 간격을 넓혀서 덜 답답하게 만듭니다. */
      background-color: #f7f7f7; /* 아주 연한 회색 배경을 추가해 영역을 구분합니다. */
      padding: 1em; /* 안쪽 여백을 줍니다. */
      border-radius: 8px; /* 모서리를 둥글게 만듭니다. */
    }
    .red {
      color: red;
      font-weight: bold;
    }
    .ml-1 {
      margin-left: 1em;
    }
  </style>
  <!-- 1. Prism.js의 CSS 파일을 불러옵니다 (기본 밝은 테마) -->
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
    rel="stylesheet"
  />
</head>

<body>
  <h3 style="color: rgb(172, 172, 172)">함수의 prototype 프로퍼티</h3>
  <!-- JS로 내용을 수정할 부분을 div로 감싸고 id를 부여합니다. -->
  <div id="notes">
    -__proto__는 브라우저를 대상으로 개발하고 있다면 구식이어서, 더는 사용하지
    말깅 ! -그 대신 -Object.create(프로토타입객체)-Object.getPrototypeOf(obj) _
    obj의 [[Prototype]]을 반환-Object.setPrototypeOf(obj, proto) – obj의
    [[Prototype]]이 proto가 되도록 설정 -공용으로 쓰이는 메서드는 prototype에
    둬서 여러 객체가 공유 가능 -new로 만든 객체가 prototype을 통해 메서드를 찾아
    쓴다. -메서드를 prototype에 안두면,객체마다 반복생성되어 → 비효율을
    초례한다.
  </div>
  <div>
    <details>
      <summary></summary>
      <pre></pre>
    </details>
  </div>
  <script>
    // -이걸 찾아서 <br/>◌로 바꿔라
    document.getElementById("notes").innerHTML = document
      .getElementById("notes")
      .innerHTML.replaceAll("-", "<br>◌ ");
  </script>

  <script>
    let animal = { eats: true };
    //-------새로운 객체 생성 ( 프로토타입이 animal인)--------
    let rabbit = Object.create(animal);

    console.log(rabbit.eats); //true
    //--------프로토타입 가져오기 getPrototypeOf ------------
    console.log(Object.getPrototypeOf(rabbit)); //{eats: true}
    console.log(animal); //{eats: true}
    //-------프로토타입 설정하기 setPrototypeOf -------------
    Object.setPrototypeOf(rabbit, {}); //🍎rabbit 프로토타입을 { } 로 바꾼다.
    console.log(Object.getPrototypeOf(rabbit)); // {}
    console.log(animal); //{eats: true} - rabbit의 프로토타입만 바꿔준것이니깐 animal은 그대로다
    //-------설명자를 이용해 새 객체에 프로퍼티 추가.
    let rabbit2 = Object.create(animal, { jumps: { value: true } });
    console.log(rabbit2.jumps); //true
    //속도가 중요하다면 기존 객체의 prototype을 변경하지 말기
    // 하지만 대개는 객체를 생성할 때만 [[Prototype]]을 설정하고 이후엔 수정하지 않습니다.
    // rabbit이 animal을 상속받도록 설정하고 난 이후엔 상속 관계를 잘 변경하지 않습니다.
    // 자바스크립트 엔진은 이런 시나리오를 토대로 최적화

    // Object.setPrototypeOf나 obj.__proto__=를 써서 프로토타입을 그때그때 바꾸는 연산은 객체 프로퍼티 접근 관련
    // 최적화를 망치기 때문에 성능에 나쁜 영향

    //-------------과제----------------
    //-----사전에 toString 추가하기-------
    let dictionary = Object.create(null, {});
    // 데이터를 추가합니다.
    dictionary.apple = "Apple";
    dictionary.__proto__ = "test"; // __proto__는 여기서 일반적인 프로퍼티 키입니다.
    // 반복문에는 apple과 __proto__ 만 있습니다.
    for (let key in dictionary) {
      alert(key); // "apple" 다음 "__proto__"입니다.
    }
    // toString이 동작하는 부분입니다.
    alert(dictionary); // "apple,__proto__"
  </script>

  <!-- 2. Prism.js의 JavaScript 파일 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
</body>
