<head>
  <title>setTimeout - setInterval</title>
  <style>
    pre {
      /* 2. '프리텐다드'를 가장 먼저 사용하도록 설정합니다. */
      font-family: "Pretendard", -apple-system, BlinkMacSystemFont, "Segoe UI",
        Roboto, "Helvetica Neue", Arial, sans-serif;
      font-size: 16px; /* 기본 폰트 크기를 살짝 키워 가독성을 높입니다. */
      line-height: 1.6; /* 줄 간격을 넓혀서 덜 답답하게 만듭니다. */
      background-color: #f7f7f7; /* 아주 연한 회색 배경을 추가해 영역을 구분합니다. */
      padding: 1em; /* 안쪽 여백을 줍니다. */
      border-radius: 8px; /* 모서리를 둥글게 만듭니다. */
    }
  </style>
  <!-- 1. Prism.js의 CSS 파일을 불러옵니다 (기본 밝은 테마) -->
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
    rel="stylesheet"
  />
</head>

<body>
  <h3 style="color: rgb(172, 172, 172)">setTimeout - setInterval</h3>
  <div>
    <details>
      <summary>
        일정 시간이 지난 후에 원하는 함수를 예약 실행(호출) 할 수 있게하는 것
      </summary>
      <pre>호출 스케줄링 (scheduling a call)</pre>
    </details>
    <details>
      <summary>1.일정 시간이 지난 후 함수 실행</summary>
      <pre>setTimeout</pre>
    </details>
    <details>
      <summary>2.일정 시간 간격을 두고 함수를 실행</summary>
      <pre>setInterval</pre>
    </details>
    <details>
      <summary></summary>
      <pre></pre>
    </details>
    <details>
      <summary></summary>
      <pre></pre>
    </details>
  </div>

  <script>
    //🍎setTimeout 기본 사용 법
    function sayHi() {
      console.log("안녕?");
    }
    setTimeout(sayHi, 1000); //함수뒤에가로안붙임 ,1초 = 1000밀리초(millisecond)
    //⭐함수뒤에 가로 붙이지 마세요 (함수를 실행하지 말고 넘기세요.)  //함수뒤 ( )인자전달 괄호 호출X  - 참조만 하는 것이기에
    //초보 개발자는 setTimeout에 함수를 넘길 때, 함수 뒤에 () 을 붙이는 실수를 하곤 함
    // setTimeout은 함수의 참조 값을 받도록 정의되어 있는데
    // sayHi()를 인수로 전달하면 함수 실행 결과가 전달되어 버림.
    // 그런데 sayHi()엔 반환문이 없습니다. 호출 결과는 undefined가 되겠죠.
    // 따라서 setTimeout은 스케줄링할 대상을 찾지 못해,원하는 대로 코드가 동작하지 않음.
    // 잘못된 코드 // setTimeout(sayHi(), 1000);

    //🍎setTimeout 함수에 인수를 넣어줄 수 줄 수 있음
    function sayHi2(who, phrase) {
      console.log(who + " 님, " + phrase);
    }
    setTimeout(sayHi2, 1000, "별가", "안녕하세요");

    //🍎가급적 직접 함수 실행시키고 싶으면 익명 화살표 함수 사용하기 (문자열로 함수 실행해서 넣는것보다)
    //되긴되는데 별로 안좋음
    setTimeout("console.log('안좋은안녕')", 0);
    //가급적 이렇게
    setTimeout(() => console.log("괜춘한안녕"), 500);

    //🍎clearTimeout 로 스케줄링함수 취소
    //변수에 할당 된 함수를 clearTimeout에 넣으면 취소됨
    let timeId = setTimeout(() => console.log("이친구를 취소하시오"), 1000); //이친구를 취소하시오
    let timeId2 = setTimeout(sayHi, 1000); //안녕?
    console.log(timeId);
    clearTimeout(timeId);
    clearTimeout(timeId2);
    console.log(timeId);

    //🍎setInterval로 일정 시간 반복하기
    let timerID = setInterval(() => console.log("째깍"), 1000);
    //🍎5초 뒤 위에꺼 멈춤
    setTimeout(() => {
      clearInterval(timerID);
      console.log("STOP❌");
    }, 5000);

    //🍎중첩 setTimeout (재귀)
    // ( setInterval사용 안하고 일정 시간 반복하기 )
    // let timerId = setInterval(() => alert('째깍'), 2000);
    let timerID2 = setTimeout(function tick() {
      console.log("째깍");
      timerID2 = setTimeout(tick, 1000); // 재귀적으로 자신을 다시 호출
    }, 1000);
  </script>
</body>
