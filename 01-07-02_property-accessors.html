<head>
  <title>객체 프로퍼티- getter,setter (접근자프로퍼티)</title>
  <style>
    pre {
      /* 2. '프리텐다드'를 가장 먼저 사용하도록 설정합니다. */
      font-family: "Pretendard", -apple-system, BlinkMacSystemFont, "Segoe UI",
        Roboto, "Helvetica Neue", Arial, sans-serif;
      font-size: 16px; /* 기본 폰트 크기를 살짝 키워 가독성을 높입니다. */
      line-height: 1.6; /* 줄 간격을 넓혀서 덜 답답하게 만듭니다. */
      background-color: #f7f7f7; /* 아주 연한 회색 배경을 추가해 영역을 구분합니다. */
      padding: 1em; /* 안쪽 여백을 줍니다. */
      border-radius: 8px; /* 모서리를 둥글게 만듭니다. */
    }
    .red {
      color: red;
      font-weight: bold;
    }
    .ml-1 {
      margin-left: 1em;
    }
  </style>
  <!-- 1. Prism.js의 CSS 파일을 불러옵니다 (기본 밝은 테마) -->
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
    rel="stylesheet"
  />
</head>

<body>
  <h3 style="color: rgb(172, 172, 172)">
    객체 프로퍼티- getter,setter (접근자프로퍼티)
  </h3>
  <!-- JS로 내용을 수정할 부분을 div로 감싸고 id를 부여합니다. -->
  <div id="notes">
    🌿접근자 🌿프로퍼티는 두 가지 모드중 하나만 고를 수 있다. (데이터 프로퍼티
    VS 접근자 프로퍼티)<br />
    1.데이터프로퍼티: value, writable ->값걍 저장<br />
    2.접근자프로퍼티:get,set->값대신 함수로 가져오고get 새로쓰고set<br />
    👉 value ↔ get/set 은 택1! 같이 쓰면 싸워서 에러 난다. 🎯
  </div>
  <div>
    <details>
      <summary></summary>
      <pre></pre>
    </details>
  </div>
  <script>
    // 🌿이걸 찾아서 <br/>🌿로 바꿔라
    document.getElementById("notes").innerHTML = document
      .getElementById("notes")
      .innerHTML.replaceAll("🌿", "<br>🌿");
  </script>

  <script>
    let user = {
      name: "John",
      surname: "Smith",
      //-------get은 위에 만든 프로퍼티 가져올때 쓰는 접근프로퍼티-----------
      get fullname() {
        return `${this.name} ${this.surname}`;
      },

      //-------set은 아까 안바뀌는 것을 바꿀 수 있게하는 접근프로퍼티------
      set fullname(value) {
        [this.name, this.surname] = value.split(" ");
      },
    };

    console.log(user.fullname);
    //뜬금 recap : this는 화살표함수에서 사용안됨
    //덕분에 바깥에서 접근자프로퍼티를 일반 프로퍼티로 사용할 수 있다.
    // user.fullname = "대장장이 존";//Error안바뀜
    console.log(user.fullname);

    //set fullname 접근자프로퍼티 사용해 재할당 ( 바.뀜 )
    user.fullname = "대장장이 존";
    console.log(user.fullname);
    console.log(user.name);
    console.log(user.surname);

    //get set에 조건 걸어줄 수 있음
    let user2 = {
      get name() {
        return this.inputname;
      },

      set name(value) {
        if (value.length < 2) {
          console.log("입력값이 너무 짧아요...두 글자 이상으로 입력하세요");
          return; // ← 저장 막기
        }
        this.inputname = value;
      },
    };

    console.log(user2); //{} 와 객체정보가 뜸
    user2.name = "Pete";
    console.log(user2); //{inputname: 'Pete'}
    console.log(user2.name); //Pete
    user2.name = "샘"; //입력값이 너무 짧아요...두 글자 이상으로 입력하세요
    console.log(user2.name); //여전히 Pete (막았으니까 그대로)

    //함수-객체 만들때
    //---프로퍼티키 변경시, 기존에 생성한 코드 일일이 변경하지 않기위해 getter 사용 ----
    function user3(name, birth) {
      this.name = name;
      this.birth = birth;

      //age는 현재 날짜와 생일을 기준으로 계산
      Object.defineProperty(this, "age", {
        get() {
          let thisYear = new Date().getFullYear();
          return thisYear - this.birth.getFullYear();
        },
      });
    }

    let john = new user3("John", new Date(1992, 6, 1));
    console.log(john.birth); //Wed Jul 01 1992 00:00:00 GMT+0900 (한국 표준시)
    console.log(john.age); //33
    console.log(user3); //function 인 user3의 정보가 뜬다
  </script>

  <!-- 2. Prism.js의 JavaScript 파일 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
</body>
